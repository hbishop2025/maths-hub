<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
  <title>SJWMS Maths App</title>

  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>

  <style type="text/tailwindcss">
    :root { 
      --accent-ks3: #7C3AED; 
      --accent-gcse: #3B82F6; 
      --accent-alevel: #0f172a;
      --nav-height: 60px;
    }

    body { 
      @apply bg-[#f6f6f8] text-[#111827] font-[Lexend] overflow-x-hidden; 
      -webkit-tap-highlight-color: transparent;
      padding-bottom: calc(var(--nav-height) + 20px); /* Space for bottom nav on mobile */
    }

    /* ---- NAVIGATION ---- */
    /* Desktop Header */
    .header-desktop { 
      @apply fixed top-0 left-0 right-0 z-50 bg-white/85 backdrop-blur-md border-b border-gray-200 transition-all duration-300; 
      height: 4rem;
    }
    
    /* Mobile Bottom Nav */
    .mobile-nav {
      @apply fixed bottom-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-lg border-t border-gray-200 flex justify-around items-center md:hidden;
      height: var(--nav-height);
      padding-bottom: env(safe-area-inset-bottom);
    }
    .nav-item {
      @apply flex flex-col items-center justify-center w-full h-full text-gray-400 transition-colors;
    }
    .nav-item.active {
      @apply text-[#135bec];
    }
    .nav-item .material-icons, .nav-item .material-symbols-outlined {
      font-size: 24px;
      margin-bottom: 2px;
    }
    .nav-item span.label {
      font-size: 10px;
      font-weight: 600;
    }

    /* ---- VIEW TRANSITIONS ---- */
    .app-view {
      display: none;
      opacity: 0;
      animation: fadeIn 0.3s ease-out forwards;
      @apply pt-20; /* Space for top header */
    }
    .app-view.active-view {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ---- SHARED UTILS (From your snippets) ---- */
    .math-grid {
      background-image:
        radial-gradient(circle at 1px 1px, rgba(0,0,0,0.05) 1px, transparent 0),
        radial-gradient(circle at 1px 1px, rgba(0,0,0,0.05) 1px, transparent 0);
      background-size: 40px 40px;
      background-position: 0 0, 20px 20px;
      mask-image: linear-gradient(to bottom, white 65%, transparent 100%);
    }

    .hero-shell { @apply relative w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8; }

    /* KS3 Styles */
    .ks3-hero-wrap {
      @apply relative rounded-[2rem] overflow-hidden mt-4 shadow-xl;
      height: 320px;
    }
    .ks3-hero-bg { @apply absolute inset-0 z-0; }
    .ks3-hero-bg img { @apply w-full h-full object-cover brightness-90 scale-105; }
    .ks3-hero-card {
      @apply absolute inset-0 z-10 flex flex-col justify-center px-6 sm:px-10 text-white bg-slate-900/40 backdrop-blur-sm;
    }
    .mega-gradient {
      background-image: linear-gradient(90deg, #FDE047 0%, #F59E0B 18%, #F472B6 40%, #A78BFA 65%, #60A5FA 85%);
      -webkit-background-clip: text; background-clip: text; color: transparent;
    }

    /* A-Level Styles */
    .al-hero-wrap {
      @apply relative rounded-[1.75rem] overflow-hidden bg-slate-900 shadow-2xl flex justify-center items-center text-center mt-4;
      height: 300px;
    }
    .track-pill {
      @apply px-4 py-2 rounded-full text-sm font-semibold border bg-white shadow-sm cursor-pointer transition border-slate-300 text-slate-700 hover:bg-slate-50;
    }
    .track-pill-active {
      @apply bg-slate-900 text-white border-slate-900 hover:bg-slate-800 !important;
    }
    .icon-card {
      @apply flex flex-col items-center justify-center p-6 rounded-2xl bg-white border border-gray-200 shadow-sm hover:shadow-md hover:-translate-y-1 transition;
    }

    /* AI Usage Styles */
    .ai-hero-wrap {
      @apply relative rounded-[2rem] overflow-hidden mt-4;
    }
    .ai-hero-card {
      @apply relative z-10 px-6 sm:px-14 py-10 sm:py-14 text-white bg-slate-900/60 backdrop-blur-sm;
    }
    .hang-list { list-style: disc outside; padding-left: 1.5rem; }
    .tab-pill {
      @apply inline-flex items-center justify-center px-3 py-1.5 rounded-full text-xs font-semibold text-gray-600 transition hover:bg-gray-100;
    }
    .tab-pill.tab-pill-active {
      @apply bg-slate-900 text-white shadow-md;
    }
    .prompt-card {
      @apply bg-white rounded-2xl border border-gray-200 p-5 shadow-sm;
    }

    /* Search Bar Morph Placeholder */
    .search-trigger {
      @apply flex items-center gap-2 bg-gray-100 px-4 py-2 rounded-full text-sm text-gray-500 hover:bg-gray-200 transition cursor-text w-full max-w-md;
    }
  </style>
</head>
<body>

  <div class="fixed inset-0 math-grid pointer-events-none z-0"></div>

  <header class="header-desktop hidden md:flex items-center justify-between px-6 lg:px-8">
    <div class="flex items-center gap-3 cursor-pointer" onclick="switchTab('home')">
      <img src="assets/hub_logo.png" alt="SJWMS" class="h-8 w-auto"/>
      <span class="font-extrabold tracking-tight text-lg">SJWMS Maths</span>
    </div>

    <div class="flex-1 max-w-lg mx-8">
      <div class="search-trigger">
        <span class="material-icons text-gray-400">search</span>
        <span>Search topics, questions or videos...</span>
      </div>
    </div>

    <nav class="flex items-center gap-1">
      <button onclick="switchTab('home')" class="px-4 py-2 text-sm font-medium text-gray-600 hover:text-[#135bec] rounded-lg hover:bg-blue-50 transition">Home</button>
      <button onclick="switchTab('ks3')" class="px-4 py-2 text-sm font-medium text-gray-600 hover:text-[#135bec] rounded-lg hover:bg-blue-50 transition">KS3</button>
      <button onclick="switchTab('gcse')" class="px-4 py-2 text-sm font-medium text-gray-600 hover:text-[#135bec] rounded-lg hover:bg-blue-50 transition">GCSE</button>
      <button onclick="switchTab('alevel')" class="px-4 py-2 text-sm font-medium text-gray-600 hover:text-[#135bec] rounded-lg hover:bg-blue-50 transition">A-Level</button>
      <button onclick="switchTab('ai')" class="ml-2 px-4 py-2 rounded-full bg-slate-900 text-white text-sm font-semibold hover:bg-slate-800 transition">AI Usage</button>
    </nav>
  </header>

  <header class="header-desktop md:hidden flex items-center justify-between px-4">
    <div class="flex items-center gap-2" onclick="switchTab('home')">
      <img src="assets/hub_logo.png" alt="SJWMS" class="h-7 w-auto"/>
      <span class="font-extrabold tracking-tight">SJWMS</span>
    </div>
    <div class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center">
        <span class="material-icons text-gray-600 text-sm">search</span>
    </div>
  </header>

  <main class="relative z-10 w-full min-h-screen">

    <section id="view-home" class="app-view active-view">
       <div class="hero-shell text-center mt-8 mb-12">
          <h1 class="text-4xl md:text-6xl font-black text-slate-900 mb-4 tracking-tight">
            Master <span class="text-[#135bec]">Maths</span>.
          </h1>
          <p class="text-lg text-gray-600 max-w-2xl mx-auto mb-8">
            Select your level to access videos, worksheets, and AI revision tools.
          </p>
          
          <div class="max-w-2xl mx-auto relative mb-12 group">
            <input type="text" placeholder="What are you revising today?" 
                   class="w-full h-14 pl-12 pr-4 rounded-full border-2 border-gray-200 shadow-sm focus:border-[#135bec] focus:ring-0 transition text-lg" />
            <span class="material-icons absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#135bec]">search</span>
          </div>

          <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto">
             <div onclick="switchTab('ks3')" class="cursor-pointer bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md hover:-translate-y-1 transition text-center group">
                <div class="w-12 h-12 bg-purple-100 text-purple-600 rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:bg-purple-600 group-hover:text-white transition">
                   <span class="material-icons">school</span>
                </div>
                <h3 class="font-bold text-gray-800">KS3</h3>
                <p class="text-xs text-gray-500 mt-1">Years 7-9</p>
             </div>

             <div onclick="switchTab('gcse')" class="cursor-pointer bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md hover:-translate-y-1 transition text-center group">
                <div class="w-12 h-12 bg-blue-100 text-blue-600 rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:bg-blue-600 group-hover:text-white transition">
                   <span class="material-icons">auto_stories</span>
                </div>
                <h3 class="font-bold text-gray-800">GCSE</h3>
                <p class="text-xs text-gray-500 mt-1">Years 10-11</p>
             </div>

             <div onclick="switchTab('alevel')" class="cursor-pointer bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md hover:-translate-y-1 transition text-center group">
                <div class="w-12 h-12 bg-slate-100 text-slate-600 rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:bg-slate-800 group-hover:text-white transition">
                   <span class="material-icons">functions</span>
                </div>
                <h3 class="font-bold text-gray-800">A-Level</h3>
                <p class="text-xs text-gray-500 mt-1">Years 12-13</p>
             </div>

             <div onclick="switchTab('ai')" class="cursor-pointer bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md hover:-translate-y-1 transition text-center group">
                <div class="w-12 h-12 bg-amber-100 text-amber-600 rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:bg-amber-500 group-hover:text-white transition">
                   <span class="material-symbols-outlined">psychology</span>
                </div>
                <h3 class="font-bold text-gray-800">AI Help</h3>
                <p class="text-xs text-gray-500 mt-1">Usage & Tips</p>
             </div>
          </div>
       </div>
    </section>

    <section id="view-ks3" class="app-view">
      <div class="hero-shell">
        <div class="ks3-hero-wrap">
          <div class="ks3-hero-bg">
            <img src="assets/ks3-hero.jpg" alt="KS3 hero" />
          </div>
          <div class="ks3-hero-card">
            <p class="uppercase tracking-widest text-xs text-gray-300">Key Stage 3</p>
            <h1 class="mt-2 text-3xl sm:text-4xl font-black leading-tight">
              <span class="mega-gradient">KS3 Revision</span><br/>Years 7â€“9
            </h1>
            <p class="mt-3 text-sm text-gray-200 max-w-lg">
              Secure the basics. Worksheets, videos and problem-solving practice.
            </p>
            <div class="mt-6 flex flex-wrap gap-3">
              <a href="#" class="inline-flex items-center px-4 py-2 rounded-full bg-white/20 text-white text-sm font-semibold hover:bg-white/30 transition backdrop-blur-md">
                UKMT Prep <span class="material-icons ml-2 text-sm">emoji_events</span>
              </a>
            </div>
          </div>
        </div>

        <div class="mt-10 mb-10">
           <h2 class="text-xl font-bold text-gray-800 mb-4">Choose your Year</h2>
           <div class="grid grid-cols-1 md:grid-cols-3 gap-5">
              <a href="year7_hub.html" class="block p-5 bg-white rounded-2xl shadow-sm border border-gray-200 hover:border-purple-300 transition group">
                 <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3">
                       <div class="w-10 h-10 rounded-lg bg-purple-50 flex items-center justify-center text-purple-600 font-bold">7</div>
                       <span class="font-bold text-gray-800">Year 7</span>
                    </div>
                    <span class="material-icons text-gray-300 group-hover:text-purple-600">arrow_forward</span>
                 </div>
              </a>
              <a href="#" class="block p-5 bg-white rounded-2xl shadow-sm border border-gray-200 hover:border-purple-300 transition group">
                 <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3">
                       <div class="w-10 h-10 rounded-lg bg-purple-50 flex items-center justify-center text-purple-600 font-bold">8</div>
                       <span class="font-bold text-gray-800">Year 8</span>
                    </div>
                    <span class="material-icons text-gray-300 group-hover:text-purple-600">arrow_forward</span>
                 </div>
              </a>
              <a href="#" class="block p-5 bg-white rounded-2xl shadow-sm border border-gray-200 hover:border-purple-300 transition group">
                 <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3">
                       <div class="w-10 h-10 rounded-lg bg-purple-50 flex items-center justify-center text-purple-600 font-bold">9</div>
                       <span class="font-bold text-gray-800">Year 9</span>
                    </div>
                    <span class="material-icons text-gray-300 group-hover:text-purple-600">arrow_forward</span>
                 </div>
              </a>
           </div>
        </div>

        <div id="ks3-dynamic-content" class="grid grid-cols-1 md:grid-cols-2 gap-4">
           </div>
      </div>
    </section>

    <section id="view-gcse" class="app-view">
       <div class="hero-shell pt-10 text-center">
          <div class="bg-blue-50 border border-blue-100 rounded-3xl p-10">
             <span class="material-icons text-6xl text-blue-300 mb-4">construction</span>
             <h2 class="text-2xl font-bold text-gray-900">GCSE Hub Loading...</h2>
             <p class="text-gray-500 mt-2">We are just polishing the algebra tiles. Check back in a moment.</p>
             <button onclick="switchTab('home')" class="mt-6 px-6 py-2 bg-blue-600 text-white rounded-full font-semibold">Back to Home</button>
          </div>
       </div>
    </section>

    <section id="view-alevel" class="app-view">
      <div class="hero-shell">
         <div class="al-hero-wrap">
            <div class="absolute inset-0 opacity-50">
               <img src="assets/alevel-hero.jpg" class="w-full h-full object-cover" alt="A Level Bg">
            </div>
            <div class="relative z-10 text-white">
               <h1 class="text-5xl font-black tracking-tight">A-Level</h1>
               <h2 class="text-xl font-medium text-slate-300 mt-1">Mathematics</h2>
               <div class="mt-6 flex justify-center gap-3">
                  <a href="#" class="px-4 py-2 rounded-full bg-white/10 border border-white/20 backdrop-blur-md text-sm font-semibold hover:bg-white/20">Exam Revision</a>
                  <a href="#" class="px-4 py-2 rounded-full bg-white/10 border border-white/20 backdrop-blur-md text-sm font-semibold hover:bg-white/20">A* Questions</a>
               </div>
            </div>
         </div>

         <div class="flex flex-wrap justify-center gap-3 mt-8 mb-8" id="al-track-pills">
            <button class="track-pill track-pill-active">Year 12 Pure</button>
            <button class="track-pill">Year 13 Pure</button>
            <button class="track-pill">Stats</button>
            <button class="track-pill">Mechanics</button>
         </div>

         <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 pb-12">
            <div class="icon-card group cursor-pointer">
               <span class="material-symbols-outlined text-4xl text-slate-500 group-hover:text-slate-900">calculate</span>
               <p class="mt-3 text-sm font-bold text-slate-800">Algebra & Functions</p>
               <p class="text-xs text-slate-500 text-center mt-1">Indices, surds, quadratics...</p>
            </div>
             <div class="icon-card group cursor-pointer">
               <span class="material-symbols-outlined text-4xl text-slate-500 group-hover:text-slate-900">show_chart</span>
               <p class="mt-3 text-sm font-bold text-slate-800">Coordinate Geometry</p>
               <p class="text-xs text-slate-500 text-center mt-1">Circles and straight lines</p>
            </div>
             <div class="icon-card group cursor-pointer">
               <span class="material-symbols-outlined text-4xl text-slate-500 group-hover:text-slate-900">change_history</span>
               <p class="mt-3 text-sm font-bold text-slate-800">Trigonometry</p>
               <p class="text-xs text-slate-500 text-center mt-1">Sine/Cosine rules, identities</p>
            </div>
         </div>
      </div>
    </section>

    <section id="view-ai" class="app-view">
      <div class="hero-shell">
         <div class="ai-hero-wrap">
             <div class="absolute inset-0 z-0">
               <img src="assets/ai-hero.jpg" class="w-full h-full object-cover brightness-50" alt="AI Hero">
             </div>
             <div class="ai-hero-card">
                <span class="inline-flex items-center gap-2 text-[10px] font-bold tracking-widest uppercase text-amber-300 mb-2">
                  <span class="h-1.5 w-1.5 rounded-full bg-amber-400"></span> AI & Maths
                </span>
                <h1 class="text-3xl font-extrabold text-white">Using AI Sensibly</h1>
                <p class="mt-2 text-sm text-gray-200 max-w-lg">
                  AI is a powerful revision tool. Use it to learn, not to skip the hard work.
                </p>
             </div>
         </div>

         <div class="mt-8 mb-10">
            <div class="flex gap-2 overflow-x-auto pb-2 mb-6 no-scrollbar">
               <button class="tab-pill tab-pill-active whitespace-nowrap" onclick="switchAiTab('faqs', this)">Common Questions</button>
               <button class="tab-pill whitespace-nowrap" onclick="switchAiTab('ks3', this)">KS3 Prompts</button>
               <button class="tab-pill whitespace-nowrap" onclick="switchAiTab('ks4', this)">GCSE Prompts</button>
               <button class="tab-pill whitespace-nowrap" onclick="switchAiTab('ks5', this)">A-Level Prompts</button>
            </div>

            <div id="ai-panel-faqs" class="grid grid-cols-1 md:grid-cols-2 gap-4">
               <div class="prompt-card">
                  <h4 class="font-bold text-slate-900 text-sm mb-1">Can I use AI for homework?</h4>
                  <p class="text-xs text-gray-600">Yes, to understand methods and check mistakes. No, to generate answers to copy and paste.</p>
               </div>
               <div class="prompt-card">
                  <h4 class="font-bold text-slate-900 text-sm mb-1">Is it cheating?</h4>
                  <p class="text-xs text-gray-600">If you use it to bypass learning, yes. If you use it as a tutor to explain things, no.</p>
               </div>
               <div class="prompt-card border-amber-200 bg-amber-50">
                  <h4 class="font-bold text-amber-900 text-sm mb-1 flex items-center gap-2"><span class="material-icons text-sm">star</span> Golden Rule</h4>
                  <p class="text-xs text-amber-800">If you would be embarrassed to tell your teacher exactly how you used it, don't do it.</p>
               </div>
            </div>

            <div id="ai-panel-ks3" class="hidden space-y-4">
               <div class="prompt-card p-4">
                  <p class="text-[10px] font-bold text-amber-600 uppercase mb-2">Topic: Fractions</p>
                  <p class="text-sm text-gray-800 italic">"Explain how to add fractions with different denominators to a Year 7 student. Give me a worked example, then 3 practice questions."</p>
               </div>
            </div>
            
            </div>
      </div>
    </section>

  </main>

  <nav class="mobile-nav">
     <button class="nav-item active" onclick="switchTab('home')" data-tab="home">
        <span class="material-icons">home</span>
        <span class="label">Home</span>
     </button>
     <button class="nav-item" onclick="switchTab('ks3')" data-tab="ks3">
        <span class="material-icons">school</span>
        <span class="label">KS3</span>
     </button>
     <button class="nav-item" onclick="switchTab('gcse')" data-tab="gcse">
        <span class="material-icons">auto_stories</span>
        <span class="label">GCSE</span>
     </button>
     <button class="nav-item" onclick="switchTab('alevel')" data-tab="alevel">
        <span class="material-symbols-outlined">functions</span>
        <span class="label">A-Level</span>
     </button>
     <button class="nav-item" onclick="switchTab('ai')" data-tab="ai">
        <span class="material-symbols-outlined">psychology</span>
        <span class="label">AI</span>
     </button>
  </nav>

  <script>
    // --- Navigation Logic ---
    function switchTab(viewId) {
       // 1. Hide all views
       document.querySelectorAll('.app-view').forEach(el => {
          el.classList.remove('active-view');
       });
       
       // 2. Show target view
       const target = document.getElementById('view-' + viewId);
       if(target) {
          target.classList.add('active-view');
          window.scrollTo(0,0); // Reset scroll
       }

       // 3. Update Bottom Nav State
       document.querySelectorAll('.mobile-nav .nav-item').forEach(btn => {
          btn.classList.remove('active');
          if(btn.dataset.tab === viewId) btn.classList.add('active');
       });

       // 4. Update Header State (Optional visual cues)
       const header = document.querySelector('.header-desktop');
       // Logic can go here to change header color based on section if desired
    }

    // --- AI Tab Logic ---
    function switchAiTab(panelName, btnElement) {
       // Reset pills
       document.querySelectorAll('#view-ai .tab-pill').forEach(b => b.classList.remove('tab-pill-active'));
       btnElement.classList.add('tab-pill-active');

       // Hide all panels
       const panels = ['faqs', 'ks3', 'ks4', 'ks5'];
       panels.forEach(p => {
          const el = document.getElementById('ai-panel-' + p);
          if(el) el.classList.add('hidden');
       });

       // Show target
       const target = document.getElementById('ai-panel-' + panelName);
       if(target) target.classList.remove('hidden');
    }

    // --- Initialize ---
    document.addEventListener('DOMContentLoaded', () => {
       // Deep link support ?view=alevel
       const params = new URLSearchParams(window.location.search);
       const view = params.get('view');
       if(view) switchTab(view);
    });
  </script>
</body>
</html>
