<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <link rel="icon" type="image/svg" href="assets/favicon.svg" />
  <title>GCSE | Home</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;600;700;800;900&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>

  <!-- Shared CSS (if you still use main.css for layout helpers) -->
  <link rel="stylesheet" href="assets/main.css"/>

  <style type="text/tailwindcss">
    :root { --accent1:#7C3AED; --accent2:#3B82F6; }

    body { @apply bg-[#f6f6f8] text-[#212121] font-[Lexend]; overflow-x:hidden; }

    /* Header + mobile menu – same pattern as index */
    .header { @apply fixed top-0 left-0 right-0 z-30 bg-white/85 backdrop-blur border-b border-gray-200; }
    #mobileMenu {
      @apply absolute right-4 top-[3.25rem] bg-white/90 backdrop-blur-md border border-gray-200 shadow-lg rounded-xl px-4 py-3 z-40;
      width: 180px;
      transform-origin: top right;
      animation: menuIn .22s ease-out;
    }
    #mobileMenu a {
      @apply block text-sm font-medium text-gray-700 hover:text-[#135bec] py-1 text-center;
    }

    @keyframes menuIn {
      from { opacity: 0; transform: translateY(-6px) scale(0.98); }
      to   { opacity: 1; transform: translateY(0)    scale(1); }
    }

    /* Background dots (optional, like index) */
    .math-grid {
      background-image:
        radial-gradient(circle at 1px 1px, rgba(0,0,0,0.05) 1px, transparent 0),
        radial-gradient(circle at 1px 1px, rgba(0,0,0,0.05) 1px, transparent 0);
      background-size: 40px 40px;
      background-position: 0 0, 20px 20px;
      mask-image: linear-gradient(to bottom, white 65%, transparent 100%);
    }

    .hero-shell { @apply relative w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8; }

    /* GCSE hero wrapper (image behind + glass card) */
    .ks3-hero-wrap{
      margin-top: clamp(1.25rem, 5vw, 3.5rem);
      position: relative;
      border-radius: 2rem;
      overflow: hidden;
    }

    /* Background image + gradient overlay */
    .ks3-hero-bg{
      position:absolute;
      inset:0;
      z-index:0;
      will-change: transform;
    }
    .ks3-hero-bg img{
      width:100%;
      height:100%;
      object-fit:cover;
      filter:brightness(0.9);
      transform:scale(1.05); /* slight scale so parallax doesn’t show edges */
    }
    .ks3-hero-bg::after{
      content:"";
      position:absolute;
      inset:0;
      background:none !important;
    }

    /* Glass card on top of image */
    .ks3-hero-card{
      position:relative;
      z-index:1;
      @apply px-6 sm:px-10 md:px-14 py-10 sm:py-14 text-left text-white;
      background: rgba(15,23,42,0.45);
      backdrop-filter: blur(0px);
      box-shadow:
        0 8px 24px rgba(0,0,0,.35),
        0 0 0 1px rgba(255,255,255,.10);
    }

    /* Gradient title */
    .mega-gradient {
      background-image: linear-gradient(
        90deg,
        #FDE047 0%,
        #F59E0B 18%,
        #F472B6 40%,
        #A78BFA 65%,
        #60A5FA 85%
      );
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 6px 18px rgba(167,139,250,.25);
    }

    /* Section titles */
    .section-heading { @apply text-2xl font-bold text-gray-800 mb-4; }

    /* Dark card */
    .soft-card{
      background: #0f1115;
      border: 1px solid rgba(255,255,255,.06);
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
    }

    /* Countdown blocks */
    .time-box{
      min-width: 5.5rem;
      background: #111418;
      border: 1px solid rgba(255,255,255,.08);
      border-radius: 0.75rem;
      padding: .9rem .8rem;
      text-align: center;
    }
    .time-num{
      font-weight: 800;
      font-size: clamp(28px, 5vw, 44px);
      line-height: 1;
      color: #fff;
    }
    .time-label{
      color: rgba(255,255,255,.7);
      font-size: 12px;
      letter-spacing: .06em;
      text-transform: uppercase;
    }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header class="header">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 h-14 flex items-center justify-between relative">
      <div class="flex items-center gap-3">
        <img src="assets/hub_logo.png" alt="SJWMS" class="h-7 w-auto"/>
        <span class="font-extrabold tracking-tight">SJWMS Maths</span>
      </div>

      <nav class="hidden md:flex items-center gap-6">
        <a class="text-sm font-medium text-gray-700 hover:text-[#135bec] transition" href="index.html">Home</a>
        <a class="text-sm font-medium text-gray-700 hover:text-[#135bec] transition" href="ks3_hub.html">KS3</a>
        <a class="text-sm font-medium text-[#135bec]" href="gcse_hub.html">GCSE</a>
        <a class="text-sm font-medium text-gray-700 hover:text-[#135bec] transition"
           href="alevel_hub.html">A-Level</a>
        <a class="px-4 py-2 rounded-full bg-[#111827] text-white text-sm font-semibold" href="ai_usage.html">
          AI Usage
        </a>
      </nav>

      <button id="menuBtn" class="md:hidden p-2 rounded-lg hover:bg-gray-200/60">
        <span class="material-icons">menu</span>
      </button>

      <div id="mobileMenu" class="hidden">
        <a href="index.html">Home</a>
        <a href="ks3_hub.html">KS3</a>
        <a href="gcse_hub.html">GCSE</a>
        <a href="alevel_hub.html">A-Level</a>
        <a class="rounded-full bg-[#111827] text-white font-semibold mt-2 py-1.5 px-3 block" href="ai_usage.html">
          AI Usage
        </a>
      </div>
    </div>
  </header>

  <!-- Background dots -->
  <div class="absolute inset-0 math-grid pointer-events-none"></div>

  <!-- MAIN -->
  <main class="relative pt-16">
    <div class="hero-shell">

      <!-- Coming soon / countdown block -->
<section id="coming-soon" class="soft-card rounded-[2rem] p-8 md:p-12 mb-16">
  <div class="mx-auto max-w-3xl text-center">
          <h2 class="mega-gradient font-extrabold mb-3"
              style="font-size: clamp(40px, 8vw, 76px); letter-spacing:-.02em;">
            Coming&nbsp;Soon
          </h2>
          <p class="text-sm sm:text-base text-gray-300 max-w-xl mx-auto">
            GCSE topic hubs are in development. The countdown below is a rough target for the
            first public version of the KS4 area.
          </p>

          <!-- Countdown -->
          <div class="mt-8 md:mt-10 flex flex-wrap items-center justify-center gap-4 md:gap-6">
            <div class="time-box">
              <div id="cd-days" class="time-num">–</div>
              <div class="time-label">Days</div>
            </div>
            <div class="time-box">
              <div id="cd-hours" class="time-num">–</div>
              <div class="time-label">Hours</div>
            </div>
            <div class="time-box">
              <div id="cd-mins" class="time-num">–</div>
              <div class="time-label">Minutes</div>
            </div>
            <div class="time-box">
              <div id="cd-secs" class="time-num">–</div>
              <div class="time-label">Seconds</div>
            </div>
          </div>
        </div>
      </section>

    </div>
  </main>

  <!-- FOOTER (universal slot) -->
  <div id="footer-slot"></div>
  <script src="assets/footer-loader.js" defer></script>

  <!-- Countdown JS -->
  <script>
    (function(){
      const now = new Date();
      // Target: 3 November of this year, or next year if that's already passed
      let target = new Date(now.getFullYear(), 10, 3, 0, 0, 0); // month 10 = November
      if (target <= now) {
        target = new Date(now.getFullYear() + 1, 10, 3, 0, 0, 0);
      }

      const elD = document.getElementById('cd-days');
      const elH = document.getElementById('cd-hours');
      const elM = document.getElementById('cd-mins');
      const elS = document.getElementById('cd-secs');

      if (!(elD && elH && elM && elS)) return;

      function pad(n){ return String(n).padStart(2,'0'); }

      function tick(){
        const t = target.getTime() - Date.now();
        if (t <= 0){
          [elD,elH,elM,elS].forEach(el => el.textContent = '00');
          clearInterval(timer);
          return;
        }
        const totalSeconds = Math.floor(t/1000);
        const days  = Math.floor(totalSeconds / 86400);
        const hours = Math.floor((totalSeconds % 86400) / 3600);
        const mins  = Math.floor((totalSeconds % 3600) / 60);
        const secs  = totalSeconds % 60;

        elD.textContent = pad(days);
        elH.textContent = pad(hours);
        elM.textContent = pad(mins);
        elS.textContent = pad(secs);
      }
      tick();
      const timer = setInterval(tick, 1000);
    })();
  </script>

  <!-- Mobile menu JS (same as index) -->
  <script>
    (function(){
      const btn  = document.getElementById('menuBtn');
      const menu = document.getElementById('mobileMenu');
      if (!btn || !menu) return;

      function closeMenu(){
        menu.classList.add('hidden');
        btn.setAttribute('aria-expanded','false');
      }
      function toggleMenu(e){
        e.stopPropagation();
        const willOpen = menu.classList.contains('hidden');
        menu.classList.toggle('hidden', !willOpen);
        btn.setAttribute('aria-expanded', String(willOpen));
      }

      btn.addEventListener('click', toggleMenu);
      document.addEventListener('click', e => {
        if (!e.target.closest('#mobileMenu') && !e.target.closest('#menuBtn')) {
          closeMenu();
        }
      });
      document.addEventListener('keydown', e => {
        if (e.key === 'Escape') closeMenu();
      });
    })();
  </script>

  <!-- Parallax JS -->
  <script>
    (function(){
      const hero = document.querySelector('.ks3-hero-wrap');
      const bg   = hero?.querySelector('.ks3-hero-bg');

      if (!hero || !bg) return;

      let ticking = false;

      function updateParallax() {
        const rect = hero.getBoundingClientRect();
        const vh   = window.innerHeight || document.documentElement.clientHeight;

        // How far the hero is from the centre of the viewport (-1 to 1-ish)
        const progress = (rect.top + rect.height / 2 - vh / 2) / vh;

        const offset = progress * 30; // px
        bg.style.transform = `translateY(${offset}px) scale(1.05)`;
        ticking = false;
      }

      function onScroll() {
        if (!ticking) {
          window.requestAnimationFrame(updateParallax);
          ticking = true;
        }
      }

      window.addEventListener('scroll', onScroll, { passive: true });
      window.addEventListener('resize', onScroll);

      // Initial position
      updateParallax();
    })();
  </script>
</body>
</html>
