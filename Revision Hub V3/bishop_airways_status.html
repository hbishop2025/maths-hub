<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bishop Airways | Flight Telemetry Status</title>

  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;600;700;800;900&family=Share+Tech+Mono&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>

  <style type="text/tailwindcss">
    body { @apply bg-slate-50 text-[#212121] font-[Lexend]; overflow-x:hidden; }

    /* Header */
    .header { @apply fixed top-0 left-0 right-0 z-50 bg-white/90 backdrop-blur border-b border-gray-200; }

    /* Loading Overlay */
    #loadingScreen {
      @apply fixed inset-0 z-[100] bg-slate-900 text-white flex flex-col items-center justify-center transition-opacity duration-500;
    }
    .loader-bar { @apply w-64 h-1 bg-slate-700 rounded-full mt-4 overflow-hidden; }
    .loader-progress { @apply h-full bg-blue-500 w-0 transition-all duration-[3000ms] ease-out; }

    /* Error Banner (Static) */
    .error-banner {
      @apply bg-red-600 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-4 mb-8 border-l-8 border-red-800;
    }

    /* Tables */
    .telemetry-table { @apply w-full bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-8; }
    .telemetry-table th { @apply bg-slate-100 text-left text-xs font-bold text-gray-500 uppercase tracking-wider px-6 py-3 border-b border-gray-200; }
    .telemetry-table td { @apply px-6 py-4 text-sm font-medium border-b border-gray-100 align-middle; }
    .telemetry-table tr:last-child td { @apply border-b-0; }
    
    /* Monospaced Data Cells */
    .data-cell { @apply font-['Share_Tech_Mono'] text-lg text-slate-700 tracking-wide; }
    
    /* Static Scrambled Text (No Animation) */
    .static-scramble { 
      @apply text-red-600 font-bold bg-red-50 px-2 py-1 rounded tracking-widest select-none;
      font-family: 'Share Tech Mono', monospace;
    }
    
    /* Status Badges */
    .status-badge { @apply text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wider; }
    .status-green { @apply bg-green-100 text-green-700; }
    .status-yellow { @apply bg-yellow-100 text-yellow-700; }
    .status-red { @apply bg-red-100 text-red-700; }
    .status-gray { @apply bg-gray-100 text-gray-500; }

    /* Back Button */
    .back-btn { @apply inline-flex items-center gap-2 text-sm font-bold text-gray-500 hover:text-black transition-colors mb-6; }
  </style>
</head>
<body>

  <header class="header">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 h-14 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <img src="assets/hub_logo.png" alt="SJWMS" class="h-7 w-auto"/>
        <span class="font-extrabold tracking-tight">SJWMS Maths</span>
      </div>
      <nav class="hidden md:flex items-center gap-6">
        <a class="text-sm font-medium text-gray-700 hover:text-blue-600" href="index.html">Home</a>
        <a class="text-sm font-medium text-gray-700" href="ks3_hub.html">KS3</a>
        <a class="text-sm font-medium text-gray-700" href="gcse_hub.html">GCSE</a>
        <a class="text-sm font-medium text-gray-700" href="alevel_hub.html">A-Level</a>
        <a class="px-4 py-2 rounded-full bg-black text-white text-sm font-semibold" href="ai_usage.html">AI Usage</a>
      </nav>
    </div>
  </header>

  <div id="loadingScreen">
    <img src="assets/Bishop Airways.png" class="h-12 w-auto mb-8 invert opacity-80" alt="Logo"/>
    <h2 class="text-xl font-mono tracking-widest">CONNECTING TO FLIGHT DATA RECORDER...</h2>
    <div class="loader-bar"><div class="loader-progress" id="loadBar"></div></div>
    <p class="text-xs text-slate-500 mt-2 font-mono" id="loadText">Establishing handshake...</p>
  </div>

  <main class="pt-24 max-w-6xl mx-auto px-4 pb-20 opacity-0 transition-opacity duration-1000" id="mainContent">
    
    <a href="bishop_airways.html" class="back-btn">
      <span class="material-icons text-sm">arrow_back</span> Return to Search
    </a>

    <div class="error-banner">
      <span class="material-icons text-3xl">warning</span>
      <div>
        <h3 class="font-bold text-lg">SYSTEM FAILURE: TELEMETRY DATA CORRUPT</h3>
        <p class="text-sm opacity-90">Flight computer offline. Manual calculation of Speed, Distance, and Time parameters required.</p>
      </div>
    </div>

    <div class="flex items-center justify-between mb-8 border-b pb-4">
      <div>
        <h1 class="text-3xl font-black tracking-tight">Flight Telemetry Logs</h1>
        <p class="text-slate-500 text-sm mt-1">Authorized Personnel Only</p>
      </div>
      <span class="text-xs font-mono text-gray-400 bg-gray-100 px-3 py-1 rounded">LOG ID: ERR_SDT_MANUAL</span>
    </div>

    <div class="mb-10">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-1.5 h-6 bg-blue-500 rounded-full"></div>
        <div>
            <h3 class="font-bold text-xl">Sector 1: Local Flights (Fluency)</h3>
            <p class="text-xs text-gray-400">Basic Telemetry. Standard Units.</p>
        </div>
      </div>
      <table class="telemetry-table">
        <thead>
          <tr>
            <th>Flight ID</th>
            <th>Distance (km)</th>
            <th>Speed (km/h)</th>
            <th>Time / Duration</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="font-mono font-bold text-blue-600">BA-E01</td>
            <td class="data-cell">340 km</td>
            <td class="data-cell">400 km/h</td>
            <td class="static-scramble">#!&%@?</td> <td><span class="status-badge status-green">AIRBORNE</span></td>
          </tr>
          <tr>
            <td class="font-mono font-bold text-blue-600">BA-E02</td>
            <td class="static-scramble">@#$$!</td> <td class="data-cell">800 km/h</td>
            <td class="data-cell">2 hrs 15 mins</td>
            <td><span class="status-badge status-red">DELAYED</span></td>
          </tr>
          <tr>
            <td class="font-mono font-bold text-blue-600">BA-E03</td>
            <td class="data-cell">930 km</td>
            <td class="static-scramble">??#%&</td> <td class="data-cell">1 hr 30 mins</td>
            <td><span class="status-badge status-yellow">TAXING</span></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="mb-10">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-1.5 h-6 bg-teal-500 rounded-full"></div>
        <div>
            <h3 class="font-bold text-xl">Sector 2: International (Unit Conversion)</h3>
            <p class="text-xs text-gray-400">WARNING: Imperial/Metric Mismatch Detected. Use 5 miles â‰ˆ 8 km.</p>
        </div>
      </div>
      <table class="telemetry-table">
        <thead>
          <tr>
            <th>Flight ID</th>
            <th>Distance</th>
            <th>Time</th>
            <th>Speed (Imperial)</th>
            <th>Speed (Metric)</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="font-mono font-bold text-teal-600">BA-P01</td>
            <td class="data-cell">3,450 miles</td>
            <td class="data-cell">7.5 hours</td>
            <td class="data-cell">460 mph</td>
            <td class="static-scramble">ERROR</td> <td><span class="status-badge status-yellow">BOARDING</span></td>
          </tr>
          <tr>
            <td class="font-mono font-bold text-teal-600">BA-P02</td>
            <td class="static-scramble">!@#&%</td> <td class="data-cell">7 hours</td>
            <td class="data-cell">550 mph</td>
            <td class="data-cell text-gray-300">N/A</td>
            <td><span class="status-badge status-gray">SCHEDULED</span></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="mb-10">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-1.5 h-6 bg-purple-600 rounded-full"></div>
        <div>
            <h3 class="font-bold text-xl">Sector 3: Intercontinental (Time Zones)</h3>
            <p class="text-xs text-gray-400">Departure/Arrival sync failure. Calculate duration from GMT offsets.</p>
        </div>
      </div>
      <table class="telemetry-table">
        <thead>
          <tr>
            <th>Flight ID</th>
            <th>Departure (Local)</th>
            <th>Arrival (Local)</th>
            <th>Time Diff</th>
            <th>Distance</th>
            <th>Avg Speed</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="font-mono font-bold text-purple-600">BA-B01</td>
            <td class="data-cell">10:00 (GMT)</td>
            <td class="data-cell">13:00 (EST)</td>
            <td class="data-cell text-gray-400">EST = GMT-5</td>
            <td class="data-cell">5,500 km</td>
            <td class="static-scramble">###.##</td> <td><span class="status-badge status-green">IN FLIGHT</span></td>
          </tr>
          <tr>
            <td class="font-mono font-bold text-purple-600">BA-B02</td>
            <td class="data-cell">20:00 (GMT)</td>
            <td class="data-cell">16:00 (SGT)+1</td>
            <td class="data-cell text-gray-400">SGT = GMT+8</td>
            <td class="static-scramble">#####</td> <td class="data-cell">900 km/h</td>
            <td><span class="status-badge status-red">DIVERTED</span></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="mb-10">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-1.5 h-6 bg-yellow-500 rounded-full"></div>
        <div>
            <h3 class="font-bold text-xl">Sector 4: Experimental (Advanced)</h3>
            <p class="text-xs text-gray-400">Complex Variable Telemetry.</p>
        </div>
      </div>
      <table class="telemetry-table">
        <thead>
          <tr>
            <th>Flight ID</th>
            <th>Flight Data</th>
            <th>Variable Factor</th>
            <th>Result Required</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="font-mono font-bold text-yellow-600">BA-F01</td>
            <td class="data-cell">Distance: 2,000 km</td>
            <td class="data-cell">Air Speed: 800 km/h <br><span class="text-red-500 text-xs">Headwind: 50 km/h</span></td>
            <td class="static-scramble">H:M:S</td> <td><span class="status-badge status-green">FINAL APPROACH</span></td>
          </tr>
          <tr>
            <td class="font-mono font-bold text-yellow-600">BA-F02</td>
            <td class="data-cell">Leg 1: 2 hrs @ ? <br>Leg 2: 1.5 hrs @ ?</td>
            <td class="data-cell">Total Dist: 2,200 km<br>Total Time: 3.5 hrs</td>
            <td class="static-scramble">###.#</td> <td><span class="status-badge status-gray">LANDED</span></td>
          </tr>
        </tbody>
      </table>
    </div>

  </main>

  <div id="footer-slot"></div>

  <script>
    // 1. LOADING SEQUENCE
    window.addEventListener('load', () => {
      const loader = document.getElementById('loadingScreen');
      const bar = document.getElementById('loadBar');
      const text = document.getElementById('loadText');
      const main = document.getElementById('mainContent');

      // Start Bar Animation
      setTimeout(() => { bar.style.width = '70%'; }, 100);
      
      // Update Text
      setTimeout(() => { text.innerText = "Retrieving Flight Manifests..."; }, 1200);
      setTimeout(() => { text.innerText = "Syncing Telemetry..."; }, 2400);
      
      // CRASH
      setTimeout(() => {
        bar.style.backgroundColor = '#ef4444'; // Red
        text.style.color = '#ef4444';
        text.innerText = "CONNECTION FAILURE!";
      }, 3000);

      // HIDE LOADER & SHOW CONTENT
      setTimeout(() => {
        loader.style.opacity = '0';
        setTimeout(() => { loader.style.display = 'none'; }, 500);
        main.style.opacity = '1';
        
        // TRIGGER DATA REVEAL (The "Airport Sign" effect)
        startRevealEffect();
      }, 3800);
    });

    // 2. DATA REVEAL EFFECT (Only for known numbers)
    function startRevealEffect() {
      const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
      const cells = document.querySelectorAll('.data-cell');

      cells.forEach(cell => {
        // Skip if it contains other HTML elements (like the advanced rows)
        if(cell.children.length > 0) return;

        const finalValue = cell.innerText; 
        
        // Don't animate simple N/A or short text
        if(finalValue.length < 2) return;

        let iterations = 0;
        const maxIterations = 10 + Math.random() * 20; 

        const interval = setInterval(() => {
          let randomStr = "";
          // Keep length somewhat consistent
          const len = finalValue.length; 
          for(let i=0; i<len; i++) {
             // 30% chance to show correct char during cycle
             if(Math.random() > 0.7) {
                randomStr += finalValue[i];
             } else {
                randomStr += chars[Math.floor(Math.random() * chars.length)];
             }
          }
          cell.innerText = randomStr;
          
          iterations++;
          if (iterations > maxIterations) {
            clearInterval(interval);
            cell.innerText = finalValue; // Lock in correct value
          }
        }, 50);
      });
    }
  </script>
  <script src="assets/footer-loader.js" defer></script>
</body>
</html>
